---
layout: post
title: title
date: 2025-11-12
tags:
  - Tools
  - Unity2D
---

# IDA逆向

## IDA激活

需要自行配备python3.8以上环境，IDA安装时会自动检测。

磁力链接下载IDA9.1

```
magnet:?xt=urn:btih:f24cfadb8a66b343bf1ff4f0c1386a5f6991c818&dn=ida91
```

激活方式，生成License

[ThatNotEasy/IDA-Patcher: IDA Pro Patcher & License Generator](https://github.com/ThatNotEasy/IDA-Patcher)

main第28行写错了，修改为

```python
end_year = args.end_date or (now.year + 10)
```

执行命令参数为安装目录，也就是ida.exe的根目录

```python
python main.py -p "D:\Tools\IDA"
```

成功激活后如下

![image-20251111230515010](https://cdn.jsdelivr.net/gh/violet-wdream/Drawio/PNG/202511112305090.png)

## Zygisk-Il2CppDumper

下载Magisk工具[Release Magisk (f9f02c65) (30403) · ayasa520/Magisk](https://github.com/ayasa520/Magisk/releases/tag/canary-30403)

【安卓模拟器安装 Magisk30.4】 https://www.bilibili.com/video/BV1PYWHzCEjE/?share_source=copy_web&vd_source=05320767bb904def1ce7c1e88823462a

获取游戏包名称，以mumu模拟器为例，在这个路径的文件夹名称就是包名。

![image-20251112114512032](https://cdn.jsdelivr.net/gh/violet-wdream/Drawio/PNG/202511121145115.png)

Fork本体[violet-wdream/Zygisk-Il2CppDumper: Using Zygisk to dump il2cpp data at runtime](https://github.com/violet-wdream/Zygisk-Il2CppDumper)，不需要下载，然后在你Fork的分支actions里面输入包名，构建文件。

原仓库使用的actions太久了需要改成v4版本，修改了build.yml

```yml
- uses: actions/upload-artifact@v4
```



![image-20251112114757145](https://cdn.jsdelivr.net/gh/violet-wdream/Drawio/PNG/202511121147244.png)

[Workflow runs · violet-wdream/Zygisk-Il2CppDumper](https://github.com/violet-wdream/Zygisk-Il2CppDumper/actions)放置少女`jp.glee.girl`构建结果模块

安装构建的模块。

![image-20251112115650744](https://cdn.jsdelivr.net/gh/violet-wdream/Drawio/PNG/202511121156812.png)

启动游戏，会在`/data/data/GamePackageName/files/`目录下生成`dump.cs`

这里使用mumu模拟器自带的root explorer查看。选中后选择压缩就会发送到可直接查看的目录`/storage/emulated/0/SpeedSoftware/Archives`

![image-20251112115318123](https://cdn.jsdelivr.net/gh/violet-wdream/Drawio/PNG/202511121153187.png)

本机的根目录。

![image-20251112115512893](https://cdn.jsdelivr.net/gh/violet-wdream/Drawio/PNG/202511121155955.png)

## Il2CppDumper

和Zygisk-Il2CppDumper二选一即可。[Perfare/Il2CppDumper: Unity il2cpp reverse engineer](https://github.com/Perfare/Il2CppDumper/tree/master)

使用方法[Il2CppDumper/README.zh-CN.md at master · Perfare/Il2CppDumper](https://github.com/Perfare/Il2CppDumper/blob/master/README.zh-CN.md)

## 逆向Unity

### 所需文件

打开APK安装包，自己找，只要是unity游戏一定会有。

- [ ] libil2cpp.so 所有的C#方法被编译成了C++
- [ ] global-metadata.dat 结构化的数据库，存放了定义

启动游戏后，通过Zygisk-Il2CppDumper可以自动获取dump.cs，可以绕过保护。

- [ ] dump.cs  反编译出的所有方法的可读函数名



